# 虚函数

当某个虚函数通过指针或引用调用时，编译器产生的代码直到运行时才能确定应该调用哪个版本的函数，所以所有的虚函数都需要有定义。

虚函数会调用--`指针指向的类型（不是指针的类型是等号右边的类型）和引用绑定的类型（不是引用的类型是等号右边的类型）`--对应版本的虚函数，来实现多态。

上面的做法会造成静态类型和动态类型不一致。


----------
> 派生类中的虚函数

一旦基类中某个函数被声明为虚函数，则在所有派生类中都是虚函数。

可以通过作用域运算符来强制使用某个特定版本的虚函数。（不用指针和引用不就行了吗？。。）

如果一个派生类虚函数需要调用自己的基类版本，但是没有使用作用域运算符，则在运行时该调用会被解析为对派生类版本的调用，也就是对自己的调用，从而导致无限递归。