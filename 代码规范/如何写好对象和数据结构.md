# 如何写好对象和数据结构

## 数据抽象
> 隐藏实现并非只是在变量之间放上一个函数层那么简单。隐藏实现关乎抽象，类并不是简单的用取值器和赋值器将变量推向外间，而是暴露抽象接口，以便用户无需了解数据的实现就能操作数据本体。

## 数据、对象的反对称性


> 对象把数据隐藏于抽象之后，暴露操作数据的函数。
> 
> 数据结构暴露其数据，没有提供有意义的函数。

> 过程式代码便于在不改动既有数据结构的前提下添加新函数。

> 面向对象代码便于在不改动既有函数的前提下添加新类。

> 实际上也可以说：
> 
> 过程式代码难以添加新数据结构，因为必须修改所有函数。面向对象难以添加新函数，因为必须修改所有类。

> 所以，对于面向对象比较难的事，对于过程式代码却比较容易，反之亦然。在复杂系统中上面的情况都会有，选择合适面向对象还是面向过程也应该根据情况决定。

## The Law of Demeter
> 模块不应该了解它所操作对象的内部情况，类C的方法f只应该调用一下对象的方法：

> 
- C
- 由f创建的对象
- 作为参数传递给f的对象
- 由C的实体变量持有的对象

### 只和朋友交流
两个对象之间的耦合就成为朋友关系。即出现在成员变量、方法输入输出参数中的类就是朋友；局部变量不属于朋友。

### 朋友间也应该有距离
一个类的public属性或方法应该尽可能少。

### 是自己的就是自己的
如果一个方法放在本类中，既不增加类间关系，也对本类不产生负面影响，就放在本类中。

### 谨慎使用序列化
否则，后来修改了属性，会产生异常。

## 数据传送对象
最为精炼的数据结构，是一个只有公共变量，没有函数的类。这种数据结构有时被称为数据传送对象。